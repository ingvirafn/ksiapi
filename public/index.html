<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <!--<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.0.4/css/bootstrap-combined.min.css">-->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <style>
        body {
            margin: 50px;
        }
        h2 {
            margin: 30px;
        }
        body > div > div > ul > li {
            margin: 10px;
        }
    </style>
</head>
<body>

    <div ng-app="ksiApiApp">
        <h2>KSÍ API's</h2>
        <div ng-controller="mainCtrl">
            <ul>
                <li ng-repeat="apiEndpoint in apiEndpoints">
                    <span><b><a ng-href="{{apiEndpoint.demoroute}}">{{apiEndpoint.route}}</a></b>:</span><br />
                    <span>{{apiEndpoint.desc}}</span><br/>
                    <div ng-show="apiEndpoint.pars && apiEndpoint.pars.length > 0">
                        <strong>Parameters:</strong>
                        <ul>
                            <li ng-repeat="par in apiEndpoint.pars">
                                <strong>{{par.name}}</strong>: {{par.desc}}
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
        
        <a href="/exampleApp.html">Take a look at the example app</a>
    </div>

    <script>
        angular.module('ksiApiApp', [])
          .controller('mainCtrl', function ($scope, $http) {
              $scope.apiEndpoints = [];
                //{ desc: 'learn angular', route: 'xx' },
                //{ desc: 'build an angular app', route: 'xx' }];
              $http.get('/ksiapi').success(function(data) {
                  $scope.apiEndpoints = data;
              });

          });
    </script>
</body>
</html>